<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dokumen â€“ KARTEJI</title>
<link rel="icon" href="assets/favicon.ico">
<link rel="stylesheet" href="css/base.css"><link rel="stylesheet" href="css/theme.css">
</head><body>
<header class="navbar"><img src="assets/logo.svg" class="logo"><h1>Dokumen</h1><div class="nav-actions"><button id="themeToggle" class="btn">ðŸŒ™</button></div></header>
<div id="modeBadge" class="mode-badge">Mode: Desktop</div>
<script src="js/theme.js"></script>
<div class="container"><div id="detail" class="card"></div></div>
<script type="module" src="js/firebase-config.js"></script>
<script type="module">
  import { db } from './js/firebase-config.js';
  import { doc, getDoc } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';
  const id = new URLSearchParams(location.search).get('id');
  async function boot(){
    if(!id){ document.getElementById('detail').innerHTML='<p>Data tidak ditemukan.</p>'; return; }
    const s = await getDoc(doc(db,'dokumen', id));
    if(!s.exists()){ document.getElementById('detail').innerHTML='<p>Data tidak ditemukan.</p>'; return; }
    const d = s.data();
    const tgl = d.date ? new Date(d.date).toLocaleDateString('id-ID') : '';
    document.getElementById('detail').innerHTML = `<h2 style="margin:0 0 6px">${d.title||''}</h2><div class="muted">Nomor: ${d.number||'-'} Â· Jenis: ${d.type||'-'} Â· Tanggal: ${tgl||'-'}</div>${d.fileUrl?`<p style="margin:10px 0"><a class="btn" target="_blank" href="${d.fileUrl}">Unduh Dokumen</a></p>`:''}${d.fileUrl && d.fileUrl.endsWith('.pdf')?`<iframe src="${d.fileUrl}" style="width:100%;height:70vh;border:none;border-radius:12px"></iframe>`:''}`;
  }; boot();
</script>
<script type="module" src="js/nav-auth.js"></script>
</body></html>