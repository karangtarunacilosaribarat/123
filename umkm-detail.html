<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>UMKM â€“ KARTEJI</title>
<link rel="icon" href="assets/favicon.ico">
<link rel="stylesheet" href="css/base.css"><link rel="stylesheet" href="css/theme.css">
</head><body>
<header class="navbar"><img src="assets/logo.svg" class="logo"><h1>UMKM</h1><div class="nav-actions"><button id="themeToggle" class="btn">ðŸŒ™</button></div></header>
<div id="modeBadge" class="mode-badge">Mode: Desktop</div>
<script src="js/theme.js"></script>
<div class="container"><div id="detail" class="card"></div></div>
<script type="module" src="js/firebase-config.js"></script>
<script type="module">
  import { db } from './js/firebase-config.js';
  import { doc, getDoc } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';
  const id = new URLSearchParams(location.search).get('id');
  async function boot(){
    if(!id){ document.getElementById('detail').innerHTML='<p>Data tidak ditemukan.</p>'; return; }
    const s = await getDoc(doc(db,'umkm', id));
    if(!s.exists()){ document.getElementById('detail').innerHTML='<p>Data tidak ditemukan.</p>'; return; }
    const d = s.data();
    const tgl = d.date ? new Date(d.date).toLocaleDateString('id-ID') : '';
    document.getElementById('detail').innerHTML = `${d.logo?`<img src="${d.logo}" style="width:100%;max-height:260px;object-fit:cover;border-radius:12px;margin-bottom:12px">`:''}<h2 style="margin:0 0 6px">${d.name||''}</h2><div class="badge">${d.category||''}</div><p style="white-space:pre-wrap;line-height:1.7;margin:10px 0">${d.desc||''}</p><p class="muted">Alamat: ${d.address||'-'}</p>${d.phone?`<a class="btn" target="_blank" href="https://wa.me/${(String(d.phone)||'').replace(/[^0-9]/g,'')}">ðŸ’¬ Chat via WhatsApp</a>`:''}`;
  }; boot();
</script>
<script type="module" src="js/nav-auth.js"></script>
</body></html>